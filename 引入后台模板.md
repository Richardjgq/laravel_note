# 引入后台模板

这里清楚前面所有的操作,重新开始记录.

**命令行安装**

```
composer create-project laravel/laravel blog "5.2.*" --prefer-dist
```

绑定域名指定目录.

**修改.env配置文件**

配置数据库,添加表前缀到.env配置文件,修改config\/database.php配置中的表前缀读取方式.

```
配置数据库用户名密码
DB_PREFIX=head_
'prefix' => env('DB_PREFIX', 'head_'),
```

**创建路由与控制器**

```
php artisan make:controller IndexController
控制器中打印字符串,检查路由用.
```

```
Route::group(['middleware' => ['web']], function () {
    Route::get('/', function () {
        return view('welcome');
    });
    Route::get('/test', 'IndexController@index');
});
```

**检查数据库连接情况**

编辑控制器

```
public function index(){
    $pdo = DB::connection()->getPdo();
    dd($pdo);
}
```

**后台模板部署**

路由创建

```
Route::get('admin/login', 'LoginController@login');
```

控制器创建

```
php artisan make:controller LoginController # 登陆控制器
php artisan make:controller CommonController # 后台公共控制器
```

创建后台文件夹Admin.注意修改命名空间和引入use.然后创建后台模板文件夹,引入样式和图片,这里配置了一下Nginx的路径

```
location ~ .*\.(gif|jpg|jpeg|png|bmp|webp|ico)$
{
    expires 15d
    root /home/wwwroot/根目录;
}
location ~ .*\.(js|css|woff|eot|ttf|ttc|otf|svg)$
{
    expires 7d;
    root /home/wwwroot/根目录;
}
```

在模板中引入样式和图片使用了asset\(\)行数,大概功能和set\_url类似.

