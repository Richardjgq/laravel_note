# HTTP中间件

HTTP中间件为过滤进入应用的HTTP请求提供了一套便利的机制.例如,Laravel内置了一个中间件来验证用户是否经过授权,如果用户没有经过授权,中间件会将用户重定向到登录页面,否则如果用户经过授权,中间件就会允许请求继续往前进入下一步操作.

当然,除了认证之外,中间件还可以被用来处理更多其它任务.比如:CORS中间件可以用于为离开站点的响应添加合适的头\(跨域\);日志中间件可以记录所有进入站点的请求.

Laravel框架自带了一些中间件,包括维护模式、认证、CSRF 保护中间件等等.所有的中间件都位于`app/Http/Middleware` 目录.

### 定义中间件

要创建一个新的中间件,可以通过Artisan命令`make:middleware`:

```
php artisan make:middleware CheckAge
```

这个命令会在`app/Http/Middleware`目录下创建一个新的中间件类CheckAge,在这个中间件中,只允许提供的age大于200的请求访问路由,

