### 中间件设置与注销

在Kernel文件中添加

```
'admin.login' => \App\Http\Middleware\AdminLogin::class,
```

然后使用命令行生成中间件

```
php artisan make:middleware AdminLogin
```

中间件中写入判断跳转

```
if (!session('user')) {
    return redirect('admin/login');
}
```

配置路由

```
Route::group(['middleware' => ['admin.login'], 'prefix' => 'admin', 'namespace' => 'Admin'], function () {});
```

添加注销

```
public function logout()
{
    session(['user' => null]);
    return redirect('admin/login');
}
```

页面view的退出连接也要添加一下.



