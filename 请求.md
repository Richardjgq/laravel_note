# 请求

### 知识点整理

```
1.访问请求实例
    请求实例注入
    public function store(Request $request)
    依赖注入 & 路由参数
    public function update(Request $request,$id) # 路由参数写在后面即可
    通过路由闭包访问请求
    Route::get('/', function (Request $request) {//});

2.输入修整&正常化
    在App\Http\Kernel的全局中间件堆栈中引入了TrimStrings和ConvertEmptyStringsToNull中间件,第一个trim空格,第二个是空格返回null
3.获取请求输入
4.上传文件
    获取上传的文件
    Illuminate\Http\Request实例提供的file方法或者动态属性来访问上传文件
    file方法返回Illuminate\Http\UploadedFile类的一个实例,继承自PHP标准库中SplFileInfo类
        $file = $request->file('photo');
        $file = $request->photo;
        使用 hasFile 方法判断文件在请求中是否存在
        if ($request->hasFile('photo')) {
            //...
        }
        验证文件是否上传成功
        if ($request->file('photo')->isValid()){
            //...
        }
        文件路径 & 扩展名
        $path = $request->photo->path();
        $extension = $request->photo->extension();
    保存上传的文件
        使用store保存上传文件,store方法接收一个文件保存的相对路径(相对于文件系统配置的根目录)
        第一个参数:相对于文件系统配置的根目录|第二个参数:用于存储文件的磁盘名称作为第二个参数,返回相对于根目录的文件路径
        $path = $request->photo->store('images');
        $path = $request->photo->store('images', 's3');
        使用storeAs方法,接收保存路径、文件名和磁盘名作为参数
        $path = $request->photo->storeAs('images', 'filename.jpg');
        $path = $request->photo->storeAs('images', 'filename.jpg', 's3');
```



