# 简单的展示列表及详情页面

\[ **列表 **\]

**注册路由**

```
Route::get('/articles', 'ArticlesController@index');
```

**创建控制器**

```
php artisan make:controller ArticlesController --plain
```

**编辑控制器**

```
<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

use App\Http\Requests;
use App\Http\Controllers\Controller;
use App\Article;

class ArticlesController extends Controller
{
    public function index()
    {
        $articles = Article::all();

        return view('articles.index',compact('articles'));
    }
}
```

**创建视图层**

```
# 创建文件articles/index.blade.php
@extends('layout')
@section('content')
    <h1>Articles</h1>
    <hr>
    @foreach($articles as $article)
        <h2>{{ $article->title }}</h2>
        <article>
            {{ $article->content }}
        </article>
    @endforeach
@endsection
```

\[ **详情** \]

**注册路由**

```
Route::get('/articles/{id}','ArticlesController@show');
```

**编辑方法**

```
public function show($id)
{
    $article = Article::find($id);
    # 这里可以使用简单的判断在$id查不到时做什么
    if (is_null($article)) {
        abort(404);
    }
    # 或者直接使用框架的方法,找不到直接Fail掉
    $article = Article::findOrFail($id);

    return view('articles.show', compact('article'));
}
```

**创建视图层**

```
# 创建文件articles/show.blade.php
@extends('layout')
@section('content')
    <h1>{{ $article->title }}</h1>
    <hr>
    <article>
        <div class="body">
            {{ $article->content }}
        </div>
    </article>
@endsection
```

**视图层URL的几种书写方式**

```
<h2><a href="/articles/{{ $article->id }}">{{ $article->title }}</a></h2>
<h2><a href="{{ url('articles', $article->id) }}">{{ $article->title }}</a></h2>
<h2><a href="{{ action('ArticlesController@show', [$article->id]) }}">{{ $article->title }}</a></h2>
```



